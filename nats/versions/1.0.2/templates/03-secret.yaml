kind: secret
name: {{ .Values.secret.name }}
description: {{ .Values.secret.name }}

type: opaque
data:
  encoding: plain
  payload: |-
    {{ .Values | toYaml | nindent 4 }}

---

{{- if and .Values.nats_extra_config (ne .Values.nats_extra_config "") }}
kind: secret
name: nats-extra-data
description: placeholder for extra data

type: opaque
data:
  encoding: plain
  payload: |-
{{ .Values.nats_extra_config | nindent 4 }}
{{- end }}
