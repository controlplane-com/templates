image: opensearchproject/opensearch:3.4.0

replicas: 3

clusterName: my-opensearch-cluster

resources:
  cpu: 1
  memory: 4Gi

volumeset:
  capacity: 10 # initial capacity in GiB (minimum is 10)

internal_access:
  type: same-gvc # options: same-gvc, same-org, workload-list
  workloads:  # Note: can only be used if type is same-gvc or workload-list
    #- //gvc/GVC_NAME/workload/WORKLOAD_NAME
    #- //gvc/GVC_NAME/workload/WORKLOAD_NAME

# Dashboard Configuration (recommended)
dashboard:
  enabled: true
  image: opensearchproject/opensearch-dashboards:3.4.0
  resources:
    cpu: 100m
    memory: 512Mi

# Demo Logs Configuration (optional)
demoLogs:
  enabled: false
  remove_setup_workload: false # Set to true after demo logs startup is no longer needed to reduce resource usage

# Backup Configuration (optional)
backup:
  enabled: false      # Set to true to enable automated snapshots
  remove_setup_workload: false # Set to true after initial setup workload is no longer needed to reduce resource usage
  
  # Cloud provider: aws or gcp
  provider: aws
  
  # Backup schedule (cron format, UTC timezone)
  schedule: 0 2 * * *  # Daily at 2am UTC
  
  # Snapshot retention
  retention:
    maxAge: 30d        # Delete snapshots older than 30 days
    maxCount: 30       # Keep maximum 30 snapshots
  
  # AWS S3 Configuration
  aws:
    bucket: my-s3-bucket                 # S3 bucket name (required if provider=aws)
    region: us-east-1                    # S3 bucket region (required if provider=aws)
    prefix: opensearch-snapshots         # Path prefix in bucket
    cloudAccountName: my-cloud-account   # Control Plane Cloud Account name (required)
    policyName: my-backup-policy         # AWS IAM custom policy name (required)
  
  # GCP GCS Configuration
  gcp:
    bucket: my-gcs-bucket                # GCS bucket name (required if provider=gcp)
    prefix: opensearch-snapshots         # Path prefix in bucket
    cloudAccountName: my-cloud-account   # Control Plane Cloud Account name (required)